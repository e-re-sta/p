<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CitrusArcade</title>

<style>
    body {
        margin: 0;
        background: #0b0e11;
        color: white;
        font-family: Arial, sans-serif;
    }

    header {
        display: flex;
        align-items: center;
        padding: 12px 18px;
        background: #11161c;
        border-bottom: 1px solid #222;
        position: sticky;
        top: 0;
        z-index: 100;
    }

    #logo {
        font-size: 28px;
        cursor: pointer;
        margin-right: 12px;
        user-select: none;
    }

    #content {
        max-width: 900px;
        margin: 30px auto;
        padding: 0 20px;
    }

    .game-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-top: 20px;
    }

    .game-box {
        background: #12181f;
        border: 1px solid #1f242c;
        padding: 20px;
        border-radius: 10px;
        cursor: default;
        height: 140px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        transition: none;
    }

    .game-title {
        font-size: 16px;
        font-weight: bold;
        color: #ffd782;
    }

    .game-sub {
        font-size: 13px;
        color: #8e9aa8;
    }

    .game-play {
        align-self: flex-end;
        color: #ffd782;
        font-size: 14px;
        cursor: pointer;
        user-select: none;
    }

    /* Keine Hover Effekte */
    .game-box:hover,
    .game-play:hover {
        background: inherit;
        transform: none;
    }

    /* Game-Container */
    .game-container {
        display: none;
    }
</style>
</head>
<body>

<header>
    <div id="logo" onclick="location.reload()">üçã</div>
    <h1>CitrusArcade</h1>
</header>

<div id="content">
    <h2>Spiele</h2>

    <div class="game-grid">

        <!-- GAME 1 -->
        <div class="game-box" id="game1">
            <div class="game-title">Game 1 ‚Äì Agent Lemon</div>
            <div class="game-sub">Top-Down Agentenspiel</div>
            <div class="game-play" id="play-game1">Play</div>
        </div>

        <!-- GAME 2‚Äì12 -->
        <div class="game-box"><div class="game-title">Game 2</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 3</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 4</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 5</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 6</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 7</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 8</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 9</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 10</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 11</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>
        <div class="game-box"><div class="game-title">Game 12</div><div class="game-sub">Noch kein Spiel</div><div class="game-play">Play</div></div>

    </div>
</div>

<!-- GAME 1 CONTAINER -->
<div id="game1-container" class="game-container">
    <button id="backFromGame1" style="
        position:absolute; top:20px; left:20px; padding:8px 16px;
        background:#222; color:white; border:1px solid #444; border-radius:6px; cursor:pointer; z-index:9999;
    ">‚Üê Back</button>

    <h2 style="text-align:center; margin-top:70px;">Agent Lemon ‚Äì Mission Start</h2>

    <canvas id="lemonCanvas" width="420" height="600" style="
        display:block; margin:40px auto; background:#1a1e23; border:1px solid #333;
    "></canvas>
</div>

<script>
// -----------------------------------------------
// ZITRONEN + GURKEN REGEN (nur im Men√º)
// -----------------------------------------------
let effectsPaused = false;

function startEffects() {
    if (effectsPaused) return;

    setInterval(() => {
        if (effectsPaused) return;
        dropItem("üçã", 25); // Zitronenfall
        dropItem("ü•í", 15); // Gurkenfall
    }, 2000);
}

function dropItem(icon, count) {
    for (let i = 0; i < count; i++) {
        const el = document.createElement("div");
        el.textContent = icon;
        el.style.position = "fixed";
        el.style.left = Math.random() * window.innerWidth + "px";
        el.style.top = "-40px";
        el.style.fontSize = "24px";
        el.style.transition = "top 2.5s linear";
        document.body.appendChild(el);
        setTimeout(() => el.style.top = window.innerHeight + "px", 20);
        setTimeout(() => el.remove(), 2600);
    }
}

startEffects();

// -----------------------------------------------
// GAME 1 LOGIK
// -----------------------------------------------
document.getElementById("play-game1").onclick = () => {
    // Effekte deaktivieren
    effectsPaused = true;

    document.getElementById("content").style.display = "none";
    document.getElementById("game1-container").style.display = "block";

    startAgentLemon();
};

document.getElementById("backFromGame1").onclick = () => {
    document.getElementById("game1-container").style.display = "none";
    document.getElementById("content").style.display = "block";

    // Effekte wieder aktivieren
    effectsPaused = false;

    cancelAnimationFrame(gameLoop);
};

let ctx, lemon, keys = {}, gameLoop;

function startAgentLemon() {
    const canvas = document.getElementById("lemonCanvas");
    ctx = canvas.getContext("2d");

    lemon = { x: 180, y: 500, w: 40, h: 40, speed: 4 };

    window.addEventListener("keydown", e => keys[e.key] = true);
    window.addEventListener("keyup", e => keys[e.key] = false);

    loop();
}

function loop() {
    gameLoop = requestAnimationFrame(loop);

    ctx.clearRect(0, 0, 420, 600);

    if (keys["ArrowLeft"]) lemon.x -= lemon.speed;
    if (keys["ArrowRight"]) lemon.x += lemon.speed;
    if (keys["ArrowUp"]) lemon.y -= lemon.speed;
    if (keys["ArrowDown"]) lemon.y += lemon.speed;

    ctx.fillStyle = "yellow";
    ctx.fillRect(lemon.x, lemon.y, lemon.w, lemon.h);
}
</script>

</body>
</html>
